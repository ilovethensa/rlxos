id: gufw
version: 22.04
release: 1
about: Uncomplicated way to manage linux firwall
depends:
  runtime:
    - desktop-file-utils
    - gtk
    - polkit
    - python
    - py-gobject
    - ufw
    - webkitgtk
  buildtime:
    - intltool
    - py-distutils-extra

pre-script: |
  PYTHONVERSION="$(python -c 'import sys; print("{}.{}".format(sys.version_info.major, sys.version_info.minor))')"
  sed 's|/usr/share/gufw/gufw/gufw.py $1|/usr/lib/python'"${PYTHONVERSION}"'/site-packages/gufw/gufw.py "$@"|' -i bin/gufw-pkexec
sources:
  - https://github.com/costales/gufw/archive/{{version}}/gufw-{{version}}.tar.gz

environ:
  -  XDG_RUNTIME_DIR="$(mktemp -d --tmpdir gufw-build-XXXXXXXXX)"