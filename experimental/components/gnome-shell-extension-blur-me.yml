id: gnome-shell-extension-blur-me
version: 13
about: 'Extension that adds a blur look to applications and to different parts of
  the GNOME Shell, including the top panel, dash and overview '
sources:
- blur-me-v{{version}}::https://extensions.gnome.org/extension-data/blur-menunchucks.v{{version}}.shell-extension.zip
build-dir: .
depends:
  runtime:
  - gnome-shell
script: "mkdir -p ${pkgupd_pkgdir}/usr/share/gnome-shell/extensions/blur-me@nunchucks\
  \ \nunzip blur-me-v{{version}} -d ${pkgupd_pkgdir}/usr/share/gnome-shell/extensions/blur-me@nunchucks\n\
  \ncd ${pkgupd_pkgdir}/usr/share/gnome-shell/extensions/blur-me@nunchucks/\n\npatch\
  \ schemas/org.gnome.shell.extensions.blur-me.gschema.xml < ${FILES}/{{id}}/fixed-default-settings.patch\n\
  patch schemas/org.gnome.shell.extensions.blur-me.gschema.xml < ${FILES}/{{id}}/disable-panel-blur.patch\n\
  rm schemas/org.gnome.shell.extensions.blur-my-shell.gschema.xml\n\nglib-compile-schemas\
  \ schemas\n\nfor i in $(find . -type f) ; do\n  chmod 644 ${i}\ndone\n\nfor i in\
  \ $(find . -type d) ; do\n  chmod 755 ${i}\ndone\n"
