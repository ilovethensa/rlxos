id: openjdk-bin
version: 18.0.2.1
about: Java programming language [Binary]
depends:
  runtime:
    - alsa-lib
    - cups
    - giflib
    - xorg-libs

sources:
  - https://storage.rlxos.dev/sources/openjdk-{{version}}_linux-x64_bin.tar.gz
build-dir: jdk-{{version}}
script: |
  JAVA_HOME=/opt/openjdk-bin-{{version}}
  install -v -d -m 0755 ${pkgupd_pkgdir}/${JAVA_HOME}
  mv * ${pkgupd_pkgdir}/${JAVA_HOME}
  chown -R root:root ${pkgupd_pkgdir}/${JAVA_HOME}

  install -v -D -m 0755 ${FILES_DIR}/source ${pkgupd_pkgdir}/${JAVA_HOME}/source
  sed -i "s#@@install_dir@@#${JAVA_HOME}#g" ${pkgupd_pkgdir}/${JAVA_HOME}/source
