id: lua52
version: 5.2.4
about: Powerful lightweight programming language designed for extending applications
sources:
- https://www.lua.org/ftp/lua-{{version}}.tar.gz
build-dir: lua-{{version}}
depends:
  runtime:
  - readline
script: "patch -p1 -i ${FILES}/lua52/liblua.so.patch\nsed -r -e '/^LUA_(SO|A|T)=/\
  \ s/lua/lua5.2/' -e '/^LUAC_T=/ s/luac/luac5.2/' -i src/Makefile\n\nmake MYCFLAGS=\"\
  ${CFLAGS} -fPIC\" linux\n\nmake \\\n  TO_BIN='lua5.2 luac5.2' \\\n  TO_LIB=\"liblua5.2.a\
  \ liblua5.2.so liblua5.2.so.5.2 liblua5.2.so.5.2.4\" \\\n  INSTALL_DATA='cp -d'\
  \ \\\n  INSTALL_TOP=\"$pkgupd_pkgdir\"/usr \\\n  INSTALL_INC=\"$pkgupd_pkgdir\"\
  /usr/include/lua5.2 \\\n  INSTALL_MAN=\"$pkgupd_pkgdir\"/usr/share/man/man1 \\\n\
  \  install\n\ninstall -Dm644 ${FILES}/lua52/lua.pc ${pkgupd_pkgdir}/usr/lib/pkgconfig/lua52.pc\n\
  \nln -sv liblua5.2.so ${pkgupd_pkgdir}/usr/lib/liblua.so.5.2\nln -sv liblua5.2.so\
  \ ${pkgupd_pkgdir}/usr/lib/liblua.so.5.2.4"
