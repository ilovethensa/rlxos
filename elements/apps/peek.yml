id: peek
version: 1.5.1
release: 2
about: Simple screen recoder with an easy to use interface
category: accessories
tags:
  - screenrecoder
  - screen

depends:
  buildtime:
    - ffmpeg
    - gtk
    - keybinder
    - which
    - gst-plugins-good
    - vala
    - cmake
    - imagemagick
    - appimagetool

sources:
  - peek-{{version}}.tar.gz::https://github.com/phw/peek/archive/refs/tags/{{version}}.tar.gz

type: app
bundle: true
build-dir: peek-{{version}}
post-script: |

  # compile glib schemas
  glib-compile-schemas ${pkgupd_pkgdir}/usr/share/glib-2.0/schemas

  cp ${FILES_DIR}/peek.desktop ${pkgupd_pkgdir}/
  cp ${FILES_DIR}/peek.svg ${pkgupd_pkgdir}/{{id}}.png
  mkdir -p ${pkgupd_pkgdir}/usr/lib/
  install -v -D -m 0755 ${FILES_DIR}/AppRun -t ${pkgupd_pkgdir}/