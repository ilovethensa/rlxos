id: firefox
version: 117.0
about:
  Mozilla Firefox or simply Firefox is a free and open-source web browser developed
  by the Mozilla Foundation and its subsidiary, the Mozilla Corporation. Firefox uses
  the Gecko rendering engine to display web pages, which implements current and anticipated
  web standards.

variables:
  prepare-appimage: |-
    install -vDm 0644 -t %{install-root} /files/firefox/firefox.desktop

build-dir: .
script: |-
  mv firefox %{install-root}
  mkdir -p %{install-root}/%{bindir}
  ln -srv %{install-root}/firefox %{install-root}/%{bindir}/
  cp %{install-root}/browser/chrome/icons/default/default64.png %{install-root}/firefox.png

build-time:
  - components/dbus-glib.yml
  - components/alsa-lib.yml
  - components/appimagetool.yml

sources:
  - http://ftp.mozilla.org/pub/firefox/releases/%{version}/linux-x86_64/en-US/firefox-%{version}.tar.bz2

merge: [elements/include/appimage.yml]
