id: readline
version: 8.2
about: Set of libraries that offers command-line editing and history capabilities

sources:
- https://ftp.gnu.org/gnu/readline/readline-8.1.tar.gz

depends:
  runtime:
  - glibc

environ:
  - SHLIB_LIBS="-lncursesw"

pre-script: |
  sed -i "/MV.*old/d" Makefile.in
  sed -i "/{OLDSUFF}/c:" support/shlib-install

configure: >
  --disable-static
  --with-curses
          
compile: SHLIB_LIBS="${SHLIB_LIBS}"
          
install: SHLIB_LIBS="${SHLIB_LIBS}" DESTDIR=${pkgupd_pkgdir}

post-script: |
  install -v -m644 doc/*.{ps,pdf,html,dvi} ${pkgupd_pkgdir}/usr/share/doc/{{id}}-{{version}}