id: weston
version: 12.0.1
about: reference implementation of wayland compositor

depends:
  - components/cairo.yml
  - components/dbus.yml
  - components/glib.yml
  - components/libdrm.yml
  - components/wayland.yml
  - components/seatd.yml
  - components/graphite2.yml
  - components/libxkbcommon.yml
  - components/libinput.yml
  - components/libjpeg-turbo.yml
  - components/libwebp.yml
  - components/mesa.yml
  - components/lcms.yml
  - components/pango.yml

sources:
  - https://gitlab.freedesktop.org/wayland/weston/-/releases/%{version}/downloads/weston-%{version}.tar.xz

# TODO: enable vaapi, pipewire, freerdp, xwayland, gstreamer

configure: >
  -D b_lto=false
  -D backend-drm-screencast-vaapi=false
  -D backend-pipewire=false
  -D backend-rdp=false
  -D backend-vnc=false
  -D xwayland=false
  -D remoting=false
  -D pipewire=false
  -D systemd=false
  -D dbus=true
