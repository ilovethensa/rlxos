id: gtk
version: 3.24.38
about: Libraries used for creating graphical user interfaces for applications

configure: >
  -D tests=false
  -D examples=false
  -D demos=false
  -D colord=yes
  -D broadway_backend=true
  -D wayland_backend=true
  -D x11_backend=true

post-script: |-
  install -vDm 0644 /dev/stdin %{install-root}/%{sysconfdir}/gtk-3.0/settings.ini << "EOF"
  [Settings]
  gtk-icon-theme-name = Fluent
  gtk-theme-name = Fluent-light
  gtk-font-name = Cantarell 11
  EOF

  install -vDm 0644 /dev/stdin %{install-root}/%{libdir}/tmpfiles.d/gtk3.conf << "EOF"
  C /etc/gtk-3.0
  EOF

integration: |-
  gtk-query-immodules-3.0 --update-cache

sources:
  - https://download.gnome.org/sources/gtk+/%{version:1}/gtk+-%{version}.tar.xz

build-time:
  - components/gtk-doc.yml

depends:
  - components/at-spi2-atk.yml
  - components/gdk-pixbuf.yml
  - components/libepoxy.yml
  - components/pango.yml
  - components/colord.yml
  - components/desktop-file-utils.yml
  - components/x11/libxkbcommon.yml
  - components/x11/libxcomposite.yml
  - components/x11/libxinerama.yml
  - components/x11/libxcursor.yml
  - components/wayland-protocols.yml
# TODO: fix update url
