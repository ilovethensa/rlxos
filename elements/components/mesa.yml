id: mesa
version: 23.1.3
about: OpenGL compatible 3D graphics library
sources:
  - https://mesa.freedesktop.org/archive/mesa-%{version}.tar.xz

depends:
  - components/core/libelf.yml
  - components/core/libxml2.yml
  - components/llvm.yml
  - components/libdrm.yml
  - components/wayland.yml
build-time:
  - components/wayland-protocols.yml
  - components/py/py-mako.yml
  - components/cmake.yml
  - components/core/flex.yml
  - components/core/bison.yml

configure: >-
  -D valgrind=false 
  -D glx=dri 
  -D egl=enabled 
  -D osmesa=true 
  -D platform=wayland 
  -D llvm=enabled 
  -D b_lto=true 
  -D b_ndebug=true 
  -D dri-drivers=i965,nouveau
  -D gallium-drivers=i915,iris,nouveau,r600,radeonsi,svga,swrast,virgl 
  -D gallium-extra-hud=true
  -D gallium-nine=true
  -D gallium-omx=bellagio
  -D gallium-opencl=icd
  -D gallium-va=enabled
  -D gallium-vdpau=enabled
  -D gallium-xa=enabled
  -D gbm=enabled
  -D gles1=disabled
  -D gles2=enabled
  -D dri3=enabled
  -D builtype=release
  -D video-codecs=vc1dec,h264dec,h264enc,h265dec,h265enc