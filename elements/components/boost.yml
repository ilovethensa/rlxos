id: boost
version: 1.76.0
about: |
  A set of free peer-reviewed portable C++ source libraries
release: 0
depends:
- components/which.yml
sources:
- https://boostorg.jfrog.io/artifactory/main/release/1.76.0/source/boost_1_76_0.tar.bz2
script: |
  cd tools/build
  ./bootstrap.sh --cxxflags="${CXXFLAGS:-} ${LDFLAGS:-}"
  ./b2 install --prefix=%{install-root}/usr
  ln -s b2 %{install-root}/usr/bin/bjam

  cd ../..
  ./bootstrap.sh --with-icu --with-python=python3 --prefix=/usr
  ./b2 -j $(nproc) \
    threading=multi \
    variant=release debug-symbols=off \
    runtime-link=shared \
    link=shared,static \
    toolset=gcc \
    --layout=system \
    --prefix=%{install-root}/usr install

