id: fftw
version: 3.3.10
about: A library for computing the discrete Fourier transform (DFT)
depends:
  runtime:
    - bash
    - gcc:lib
    - glibc
    - openmpi
  buildtime:
    - cmake

sources:
  - http://www.fftw.org/{{id}}-{{version}}.tar.gz

pre-script: |
  sed -e 's/3.6.9/3.6.10/' -i CMakeLists.txt

configure: >
  -DCMAKE_BUILD_TYPE=None
  -DENABLE_OPENMP=ON
  -DENABLE_THREADS=ON
  -DENABLE_FLOAT=ON
  -DENABLE_LONG_DOUBLE=ON

post-script: |
  install -vDm 644 _pkgupd_builddir/FFTW3LibraryDepends.cmake -t "$pkgupd_pkgdir/usr/lib/cmake/fftw3/"