id: eudev
version: 3.2.11
about: Dynamic creation of device nodes

depends:
  - components/core/glibc.yml

build-time:
  - components/core/gperf.yml

sources:
  - https://github.com/eudev-project/eudev/releases/download/v%{version}/eudev-%{version}.tar.gz
  - https://anduin.linuxfromscratch.org/LFS/udev-lfs-20171102.tar.xz

configure: >
  --enable-manpages
  --disable-static

post-script: |
  mkdir -p %{install-root}/%{sysconfdir}/udev/rules.d

  cd %{build-root}
  make -f udev-lfs-20171102/Makefile.lfs install DESTDIR=%{install-root}

  cp -rap %{install-root}/lib/* %{install-root}/%{libdir}/
  rm -rf %{install-root}/lib/