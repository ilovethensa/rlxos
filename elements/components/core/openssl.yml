id: openssl
version: 3.1.1
about: Package contains management tools and libraries relating to cryptography

script: |
  ./Configure \
    --prefix=%{prefix}  \
    --openssldir=%{sysconfdir}/ssl \
    --libdir=lib  \
    shared zlib-dynamic "-Wa,--noexecstack ${CXXFLAGS} ${CFLAGS} ${LDFLAGS}"

  make depend
  make ${MAKEFLAGS}

  make DESTDIR=%{install-root} MANDIR=%{datadir}/man MANSUFFIX=ssl install_sw install_ssldirs install_man_docs



depends:
  - components/core/glibc.yml
  - components/core/perl.yml
 

sources:
  - https://www.openssl.org/source/openssl-%{version}.tar.gz
