id: xfdesktop
version: 4.18.1
about: Xfce desktop manager

pre-script: |-
  sed -i 's#/backgrounds/xfce/xfce-shapes.svg#/backgrounds/default.jpeg#g' xfdesktop/common/xfdesktop-common.h

post-script: |-
  install -vDm 0644 /dev/stdin %{install-root}/%{sysconfdir}/xdg/xfce4/xfconf/xfce-perchannel-xml/xfce4-desktop.xml << "EOF"
  <?xml version="1.0" encoding="UTF-8"?>
  <channel name="xfce4-settings" version="1.0">
    <property name="destop-icons" type="empty">
      <property name="icon-size" type="uint" value="64"/>
      <property name="gravity" type="int" value="1"/>
      <property name="file-icons" type="empty">
        <property name="show-filesystem" type="bool" value="false"/>
      </property>
    </property>
  </channel>
  EOF

  install -vDm 0644 /files/background.jpeg %{install-root}/%{datadir}/backgrounds/default.jpeg

depends:
  - components/exo.yml
  - components/libwnck.yml
  - components/libnotify.yml
  - components/startup-notification.yml
sources:
  - https://archive.xfce.org/src/xfce/xfdesktop/%{version:1}/xfdesktop-%{version}.tar.bz2
