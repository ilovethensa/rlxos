id: libblockdev
version: 3.0.3
about: A C library supporting GObject Introspection for manipulation of block devices

pre-script: |-
  sed "s/g_memdup/&2/" -i src/lib/plugin_apis/vdo.{c,api} src/plugins/vdo.c

configure: >-
  --with-python3
  --without-nvdimm
  --without-dm

depends:
  - components/gobject-introspection.yml
  - components/libbytesize.yml
  - components/libyaml.yml
  - components/parted.yml
  - components/volume_key.yml

build-time:
  - components/gtk-doc.yml
sources:
  - https://github.com/storaged-project/libblockdev/releases/download/%{version}/libblockdev-%{version}.tar.gz
