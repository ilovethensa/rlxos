id: rustc
version: 1.60.0
about: Rust programming language is designed to be a safe, concurrent, practical language
release: 0
depends:
- components/curl.yml
- components/libllvm.yml
- components/llvm.yml
- components/libssh.yml
build-time:
- components/cmake.yml
- components/gdb.yml
- components/ninja.yml
sources:
- https://static.rust-lang.org/dist/rustc-%{version}-src.tar.xz
script: |
  cp /files/config.toml .
  python3 ./x.py build --exclude src/tools/miri
  DESTDIR=%{install-root} python3 ./x.py install

  chown -R root:root %{install-root}

