id: jack
version: 1.9.20
about: The jack low-latency audio server
depends:
  runtime:
    - berkeley-db
    - gcc:lib
    - glibc
    - alsa-lib
    - dbus
    - libsamplerate
    - systemd
    - opus
  buildtime:
    - waf
license: GPL2 LGPL2.1
sources:
  - jack-{{version}}.tar.gz::https://github.com/jackaudio/jack2/archive/refs/tags/v{{version}}.tar.gz
build-dir: jack2-{{version}}

script: |
  export PYTHONPATH=${PWD}:${PYTHONPATH:-""}
  waf configure --prefix=/usr \
    --htmldir=/usr/share/doc/jack/html \
    --autostart=none \
    --example-tools=no \
    --systemd-unit \
    --classic \
    --dbus

  waf build