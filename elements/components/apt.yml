id: apt
version: 2.3.15
release: 2
about: Command-line package manager used on debian based systems
depends:
  runtime:
    - libseccomp
    - perl
    - systemd
    - xxhash
    - berkeley-db
    - gnutls
    - debian-archive-keyring
  buildtime:
    - cmake
    - docbook-xsl
    - dpkg
    - gnupg
    - po4a
    - triehash

sources:
  - https://salsa.debian.org/apt-team/apt/-/archive/{{version}}/apt-{{version}}.tar.bz2

configure: >
  -DDOCBOOK_XSL="/usr/share/xml/docbook/xsl-stylesheets-nons-1.79.2"
  -DWITH_DOC=OFF
  -DWITH_TESTS=OFF
  -DUSE_NLS=OFF

users:
  - id: 168
    name: _apt
    group: 168
    about: Apt Package Manager
    dir: /dev/null
    shell: /bin/sh

groups:
  - id: 168
    name: _apt

files:
  - path: etc/apt/sources.list
    content: |
      deb http://deb.debian.org/debian/ unstable main contrib non-free
      deb-src http://deb.debian.org/debian/ unstable main contrib non-free