id: lua-lgi
version: 0.9.2
about: |
  Lua bindings for gobject using gobject-introspection library
depends:
  runtime:
    - glibc
    - glib
    - gobject-introspection
    - libffi
    - lua
sources:
  - lgi-0.9.2.tar.gz::https://github.com/pavouk/lgi/archive/0.9.2.tar.gz

packages:
  - id: pkg
    dir: lgi-0.9.2
    script: |
      make LUA_CFLAGS="-I/usr/include/lua/5.3"
      make DESTDIR=${pkgupd_pkgdir} PREFIX=/usr \
        LUA_LIBDIR=/usr/lib/lua/5.3 \
        LUA_SHAREDIR=/usr/share/lua/5.3 install
      install -D -m 0755 tools/dump-typelib.lua ${pkgupd_pkgdir}/usr/bin/dump-typelib