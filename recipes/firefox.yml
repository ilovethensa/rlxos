id: firefox
version: 95.0
about: Mozilla Firefox or simply Firefox, is a free and open-source web browser developed by the Mozilla Foundation and its subsidiary, the Mozilla Corporation. Firefox uses the Gecko rendering engine to display web pages, which implements current and anticipated web standards
depends:
  buildtime:
    - gtk
    - dbus-glib

packages:
  - id: pkg
    sources:
      - http://ftp.mozilla.org/pub/firefox/releases/95.0/linux-x86_64/en-US/firefox-95.0.tar.bz2
    dir: .
    pack: app
    flags:
      - id: lib
        value: no

    script: |
      cp -a firefox ${pkgupd_pkgdir}
      cp ${pkgupd_pkgdir}/browser/chrome/icons/default/default128.png ${pkgupd_pkgdir}/firefox.png

AppRun: |
  #!/bin/bash
  set -e

  export SNAP_NAME="firefox"
  export MOZ_LEGACY_PROFILES=1
  exec ${APPDIR}/firefox ${@}

Desktopfile: |
  [Desktop Entry]
  Version=1.0
  Name=Firefox
  GenericName=Web Browser
  Comment=Browse the World Wide Web
  Keywords=Internet;WWW;Browser;Web;Explorer;
  Exec=firefox %u
  Icon=firefox
  Terminal=false
  X-MultipleArgs=false
  Type=Application
  MimeType=text/html;text/xml;application/xhtml+xml;x-scheme-handler/http;x-scheme-handler/https;application/x-xpinstall;application/pdf;application/json;
  StartupNotify=true
  StartupWMClass=Firefox
  Categories=Network;WebBrowser;
  Actions=new-window;new-private-window;
  [Desktop Action new-window]
  Name=New Window
  Exec=firefox --new-window %u
  [Desktop Action new-private-window]
  Name=New Private Window
  Exec=firefox --private-window %u
  
