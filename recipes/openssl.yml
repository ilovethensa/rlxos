id: openssl
version: 1.1.1m
about: |
  Package contains management tools and libraries relating to cryptography

depends:
  runtime:
    - glibc

  buildtime:
    - perl

sources:
  - https://www.openssl.org/source/openssl-1.1.1m.tar.gz

packages:
  - id: pkg
    dir: openssl-1.1.1m
    prescript: |
      ln -sv config configure

    flags:
      - id: configure
        value: >
          --prefix=/usr
          --openssldir=/etc/ssl
          --libdir=lib
          shared
          zlib-dynamic
        force: true

      - id: install
        value: DESTDIR=$pkgupd_pkgdir
