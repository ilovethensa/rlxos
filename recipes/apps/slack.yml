id: slack
version: 4.23.0
about: Slack is a proprietary business communication platform developed by American software company Slack Technologies and now owned by Salesforce. Slack offers many IRC-style features, including persistent chat rooms organized by topic, private groups, and direct messaging
type: app
sources:
  - https://downloads.slack-edge.com/releases/linux/4.23.0/prod/x64/slack-4.23.0-0.1.fc21.x86_64.rpm

build-dir: .
script: |
  bsdtar -xf slack-4.23.0-0.1.fc21.x86_64.rpm

  mv usr/lib/slack ${pkgupd_pkgdir}
  mv usr/share/pixmaps/slack.png ${pkgupd_pkgdir}

AppRun: |
  #!/bin/sh
  HERE="$(dirname "$(readlink -f "${0}")")"
  EXEC=${HERE}/slack
  exec ${EXEC} "$@"

DesktopFile: |
  [Desktop Entry]
  Name=Slack
  StartupWMClass=Slack
  Comment=Slack Desktop
  GenericName=Slack client for linux
  Exec=slack %U
  Icon=slack
  Type=Application
  StartupNotify=true
  Categories=GNOME;GTK;Network;InstantMessaging;
  MimeType=x-scheme-handler/slack;