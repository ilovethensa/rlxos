id: evtest
version: 1.34
about: Input device event monitor and query tool
license: GPL
tags:
  - system
category: system
url: https://cgit.freedesktop.org/evtest/

depends:
  buildtime:
    - appimagetool

type: app
bundle: true
sources:
  - https://gitlab.freedesktop.org/libevdev/evtest/-/archive/evtest-{{version}}/evtest-evtest-{{version}}.tar.gz

pre-script: ./autogen.sh
autoconf-dir: true
post-script: |
  rm ${pkgupd_pkgdir}/usr/share -r
  cp ${FILES}/icons/library.svg ${pkgupd_pkgdir}/evtest.png

AppRun: |
  #!/bin/sh
  SELF=$(readlink -f "$0")
  HERE=${SELF%/*}
  export LD_LIBRARY_PATH=${HERE}/usr/lib:${LD_LIBRARY_PATH}
  export PATH=${HERE}/usr/bin:${PATH}
  exec ${HERE}/usr/bin/evtest $@

DesktopFile: |
  [Desktop Entry]
  Version=1.0
  Name=evtest
  Comment=Input device event monitor and query tool
  Exec=evtest
  Icon=evtest
  Terminal=true
  Type=Application
  Categories=System;