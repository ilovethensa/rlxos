id: weechat
version: 3.5
about: Fast, light and extensible IRC client (curses UI)
license: GPL
category: internet
tags:
  - irc
  - chat
  - cli

type: app
bundle: true

depends:
  buildtime:
    - curl
    - gnutls
    - libgcrypt
    - aspell
    - perl
    - cmake
    - python
    - tcl

sources:
  - https://www.weechat.org/files/src/weechat-{{version}}.tar.xz

configure: >
  -Wno-dev
  -DENABLE_MAN=OFF
  -DENABLE_DOC=OFF
  -DENABLE_JAVASCRIPT=OFF
  -DENABLE_PHP=OFF
  -DENABLE_RUBY=OFF
  -DENABLE_GUILE=OFF

post-script: |
  cd ${pkgupd_pkgdir}
  
  # cleanup
  rm usr/include
  rm usr/lib/pkgconfig

  cp usr/share/applications/weechat.desktop .
  cp ${FILES_DIR}/{{id}}.png .

  cp ${FILES_DIR}/AppRun .
  chmod +x AppRun