id: vscodium
version: 1.68.1
release: 1
about: Free/Libre Open Source Software Binaries of VS Code
license: MIT
tags:
  - developer
  - editor
  - ide
category: development
depends:
  buildtime:
    - appimagetool
type: app
sources:
  - codium-{{version}}.AppImage::https://github.com/VSCodium/vscodium/releases/download/{{version}}/VSCodium-{{version}}-1655338709.glibc2.17-x86_64.AppImage
build-dir: .
script: |
  chmod +x ./codium-{{version}}.AppImage
  ./codium-{{version}}.AppImage --appimage-extract
  mv squashfs-root ${pkgupd_pkgdir}

  # cleanup libraries
  rm ${pkgupd_pkgdir}/lib/x86_64-linux-gnu/liblzma.so*
  
  mv ${FILES_DIR}/{{id}}.svg ${pkgupd_pkgdir}/{{id}}.png
  rm ${pkgupd_pkgdir}/usr/share/appdata -r
