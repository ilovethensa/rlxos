id: tuxemon
version: 0.4.33
about: Opensource monster-fighting RPG
depends:
  buildtime:
    - py-pip
    - appimagetool
license: GPL-3.0
tags:
  - game
  - fighting
  - rpg
  - monster
category: games
sources:
  - tuxemon-{{version}}.tar.gz::https://github.com/Tuxemon/Tuxemon/archive/refs/tags/v{{version}}.tar.gz
type: app
build-dir: Tuxemon-{{version}}
strip: false
script: |
  python setup.py install --root=${pkgupd_pkgdir}/ --prefix=/usr --optimize=1
  cp ${FILES_DIR}/{{id}}.png ${pkgupd_pkgdir}/
  cp ${FILES_DIR}/{{id}}.desktop ${pkgupd_pkgdir}/
  install -v -D -m 0755 ${FILES_DIR}/AppRun -t ${pkgupd_pkgdir}/
  cp mods ${pkgupd_pkgdir}/usr/lib/python3.9/site-packages/ -a

  # install requirements here
  pip install -r requirements.txt --target=${pkgupd_pkgdir}/usr/lib/python3.9/site-packages/