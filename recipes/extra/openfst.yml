id: openfst
version: 1.7.9
about: Library for constructing, combining, optimizing and searching weighted finite-state transducers
depends:
  runtime:
    - glibc
    - python
  buildtime:
    - automake
    - make
    - gcc
packages:
  - id: pkg
    dir: openfst-1.7.9
    sources:
      - https://www.openfst.org/twiki/pub/FST/FstDownload/openfst-1.7.9.tar.gz
    environ:
      - LIBS='-ldl'
    flags:
      - id: configure
        value: >
          --enable-bin
          --enable-compact-fsts
          --enable-compress
          --enable-const-fsts
          --enable-far
          --enable-linear-fsts
          --enable-lookahead-fsts
          --enable-mpdt
          --enable-ngram-fsts
          --enable-pdt
          --enable-python PYTHON=python
          #   postscript: |
          #      install -d ${pkgupd_pkgdir}/etc/ld.so.conf.d
          #      echo '/usr/lib/fst' > ${pkgupd_pkgdir}/etc/ld.so.cond.d/openfst.conf
