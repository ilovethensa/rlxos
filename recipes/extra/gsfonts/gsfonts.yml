id: gsfonts
version: 20200910
about: URW++ base 35 font set
sources:
  - urw-base35-fonts-{{version}}.tar.gz::https://github.com/ArtifexSoftware/urw-base35-fonts/archive/refs/tags/{{version}}.tar.gz
build-dir: urw-base35-fonts-{{version}}
script: |
  install -vDm 644 fonts/*.otf -t "${pkgupd_pkgdir}/usr/share/fonts/{{id}}"
  install -vDm 644 appstream/*.xml -t "${pkgupd_pkgdir}/usr/share/metainfo"

  install -vdm 755 "${pkgupd_pkgdir}/usr/share/fontconfig/conf.default/"
  for _config in fontconfig/*.conf; do
    _config_path="${pkgupd_pkgdir}/usr/share/fontconfig/conf.avail/69-${_config##*/}"
    install -vDm 644 "${_config}" "${_config_path}"
    ln -srt "${pkgupd_pkgdir}/usr/share/fontconfig/conf.default/" "${_config_path}"
  done