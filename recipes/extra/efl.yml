id: efl
version: 1.26.1
about: Enlightenment foundation libraries
license: BSD CUSTOM GPL2 LGPL2.1 MIT

packages:
  - id: pkg
    depends:
      runtime:
        - curl
        - dbus
        - fontconfig
        - fribidi
        - gst-plugins-base
        - harfbuzz
        - libexif
        - xorg
        - libjpeg-turbo
        - pulseaudio
        - lua52
        - poppler
        - shared-mime-info
        - wayland
        - gst-libav
        - libtiff
        - libxkbcommon
      builtime:
        - meson
        - imagemagick
        - python
    
    sources:
      - https://download.enlightenment.org/rel/libs/efl/efl-{{version}}.tar.xz
    
    dir: efl-{{version}}

    environ:
      - CFLAGS+=' -fvisibility=hidden'

    flags:
      - id: configure
        value: >
          -Dfb=true
          -Ddrm=true
          -Dwl=true
          -Dlua-interpreter=lua
          -Dbindings=
          -Dbuild-examples=false
          -Dbuild-tests=false