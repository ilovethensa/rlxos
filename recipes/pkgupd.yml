id: pkgupd
version: 0.1.0
about: |
  An Extensible package manager for rlxos

depends: 
  runtime: 
    - libyaml-cpp
    - curl
    - zstd
    - libarchive
    - tar
    - bash
    
  buildtime: 
    - cmake

sources:
  - pkgupd-0.1.0.tar.gz::https://github.com/rlxos/pkgupd/archive/refs/heads/main.tar.gz

packages:
  - id: pkg
    dir: pkgupd-main
    prescript: |
      for i in ${FILES}/pkgupd/*.patch ; do
        echo "applying patch ${i}"
        patch -Np1 -i ${i}
      done
    prescript: |
      sed -i "s|set_target_properties(pkgupd PROPERTIES SUFFIX \"-new\")||" CMakeLists.txt
