id: pkgupd
version: 2200
about: |
  An Extensible package manager for rlxos

depends: 
  runtime: 
    - libyaml-cpp
    - curl
    - zstd
    - libarchive
    - tar
    - bash
    
  buildtime: 
    - cmake

sources:
  - pkgupd-2200.tar.gz::https://github.com/rlxos/pkgupd/archive/refs/heads/2200.tar.gz

packages:
  - id: pkg
    dir: pkgupd-2200
    prescript: |
      for i in ${FILES}/pkgupd/*.patch ; do
        patch -Np1 -i ${i}
      done
      
    postscript: |
      install -v -D -m 0644 ${FILES}/pkgupd/pkgupd.desktop -t ${pkgupd_pkgdir}/usr/share/applications/
      install -v -D -m 0755 ${FILES}/pkgupd/pkgupd-url -t ${pkgupd_pkgdir}/usr/bin/
