id: awesome
version: 4.3
about: Highly configurable framework window manager
license: GPL2
url: https://awesomewm.org
depends:
  runtime:
    - cairo
    - dbus
    - gdk-pixbuf
    - imlib2
    - libxdg-basedir
    - libxkbcommon
    - lua
    - lua-lgi
    - pango
    - startup-notification
    - xcb-util-cursor
    - xcb-util-keysyms
    - xcb-util-wm
    - xcb-util-xrm
    - xorg-apps
  buildtime:
    - cmake
    - imagemagick
    - xmlto
sources:
  - https://github.com/awesomeWM/awesome/releases/download/v4.3/awesome-4.3.tar.xz
packages:
  - id: pkg
    dir: awesome-4.3
    flags:
      - id: configure
        value: >
          -DCMAKE_BUILD_TYPE=RELEASE
          -DSYSCONFDIR=/etc
    postscript: |
      install -v -D -m 0644 -t ${pkgupd_pkgdir}/usr/share/xsession awesome.desktop