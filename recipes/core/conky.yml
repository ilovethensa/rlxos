id: conky
version: 1.12.2
about: Lightweight system monitor for X
url: https://github.com/brndnmtthws/conky
license: BSD GPL
depends:
  runtime:
    - curl
    - glib
    - imlib2
    - xorg-libs
    - lua
    - ncurses
    - desktop-file-utils
  buildtime:
    - cmake
    - git
packages:
  - id: pkg
    dir: conky-1.12.2
    sources:
      - conky-1.12.2.tar.gz::https://github.com/brndnmtthws/conky/archive/refs/tags/v1.12.2.tar.gz
    flags:
      - id: configure
        value: >
          -D MAINTAINER_MODE=ON
          -D BUILD_XSHAPE=ON
          -D BUILD_XDBE=ON
          -D BUILD_CURL=ON
          -D BUILD_IMLIB2=ON
          -D BUILD_CURL=ON
          -D BUILD_RSS=ON
          -D BUILD_WEATHER_METAR=ON
          -D BUILD_PULSEAUDIO=ON
          -D BUILD_JOURNAL=ON
          -D CMAKE_BUILD_TYPE=Release
          -Wno-dev
          
    postscript: |
      install -Dm 644 extras/vim/syntax/conkyrc.vim -t "${pkgupd_pkgdir}"/usr/share/vim/vimfiles/syntax
      install -Dm 644 extras/vim/ftdetect/conkyrc.vim -t "${pkgupd_pkgdir}"/usr/share/vim/vimfiles/ftdetect
          
