id: brotli
version: 1.0.9
about: Generic purpose lossless compression algorithm
license: MIT
packages:
  - id: pkg
    depends:
      runtime:
        - libgcc
        - glibc
      buildtime:
        - cmake
        - gcc
        - py-setuptools
    sources:
      - brotli-1.0.9.tar.gz::https://github.com/google/brotli/archive/refs/tags/v1.0.9.tar.gz
    dir: brotli-1.0.9
    
    prescript: |
      python setup.py build
     
    flags:
      - id: configure
        value: >
          -DCMAKE_BUILD_TYPE=Release
          -DBUILD_SHARED_LIBS=True
          
    postscript: |
      python setup.py install --skip-build -O1 --root=${pkgupd_pkgdir}