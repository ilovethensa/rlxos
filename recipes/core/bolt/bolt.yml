id: bolt
version: 2200
release: 3
about: rlxos virtual assistant
commit: 53d0f9e3539cce66fd85912f980e481f41f781ea
depends:
  runtime:
    - dpp
    - curl
    - systemd
    - py-requests
sources:
  - bolt-{{commit}}.tar.gz::https://github.com/itsManjeet/bolt/archive/{{commit}}.tar.gz
build-dir: bolt-{{commit}}
pre-script: |
  mv assets/icon.svg assets/bolt.svg
  sed -i 's#install_files#install#' assets/CMakeLists.txt
  sed -i 's#scalable/#scalable#' assets/CMakeLists.txt
  sed -i 's#icon.svg#bolt.svg#' assets/CMakeLists.txt
  sed -i 's#apps/scalable#scalable/apps#' assets/CMakeLists.txt
post-script: |
  install -v -D -m 0644 ${FILES_DIR}/bolt.conf ${pkgupd_pkgdir}/etc/bolt.yml
  install -v -D -m 0644 ${FILES_DIR}/default.model ${pkgupd_pkgdir}/var/lib/bolt/distance.model