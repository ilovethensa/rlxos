id: dbus-c++
version: 0.9.0
about: A C++ API for D-BUS
depends:
  runtime:
    - dbus
    - libgcc
    - glib
license: LGPL2.1
sources:
  - https://sourceforge.net/projects/dbus-cplusplus/files/dbus-c++/{{version}}/libdbus-c++-{{version}}.tar.gz
pre-script: |
  patch -Np1 -i ${FILES}/dbus-c++/gcc47.patch
  patch -Np1 -i ${FILES}/dbus-c++/disable-threading.patch
  patch -Np1 -i ${FILES}/dbus-c++/fix-writechar.patch

  autoreconf -vi

environ:
  - LDFLAGS+=' -lpthread'

configure: >
  --disable-static
  --disable-ecore
  --enable-glib