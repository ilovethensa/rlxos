id: libappimage
version: 1.0.3
about: |
  Implements functionality for dealing with AppImage files 

depends:
  runtime:
    - cairo
    - fuse
    - wget
    - boost
    - libarchive
    - librsvg
    - fuse2


  buildtime:
    - automake
    - cmake
    - libtool
    - git
    - boost

sources:
  - libappimage-1.0.3.tar.gz::https://github.com/AppImage/libappimage/archive/refs/tags/v1.0.3.tar.gz

packages:
  - id: pkg
    dir: libappimage-1.0.3
    prescript: |
      patch -Np1 -i ${FILES}/appimage/gcc.patch
    flags:
      - id: configure
        value: >
          -DBUILD_TESTING:bool=False
          -DUSE_SYSTEM_XZ=ON
          -DUSE_SYSTEM_LIBARCHIVE=ON
          -DUSE_SYSTEM_BOOST=ON